<div class="page-content">
    <div class="row">
        <div class="space-6"></div>
        <div class="col-sm-10 col-sm-offset-1">
            <div id="login-box" class="login-box visible widget-box no-border">
                <div class="widget-body">
                    <div class="widget-main">
                        <div class="space-16">
<div ng-init="list()">
    <h3 class="header blue lighter bigger">
    <i class="icon-coffee green"></i>
    User List
   
    <div class="pull-right">
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#createUserModal">
          Create
        </button>

        <button type="button" class="btn btn-danger">
          Multi-Remove
        </button>
    </div>
    </h3>

    <select class="form-control2" ng-model="search.registered" ng-init="search.registered = 'true'">
      <option value="true">registered</option>
      <option value="false">unregistered</option>
    </select>

    <div class="modal fade" id="createUserModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            <h4 class="modal-title" id="UserModalLabel">Create an User</h4>
          </div>
          <div class="modal-body">
            <form name="userForm" class="form-horizontal" role="form">
                <div class="form-group">
                    <label class="col-sm-5 control-label no-padding-right" for="name">Username</label>
                    <div class="col-sm-7">
                        <span class="block input-icon input-icon-right">
                            <input type="text" class="form-control" placeholder="Username" name="name" ng-model="createUser.name" required focus/>
                        </span>
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-5 control-label no-padding-right" for="email">Email</label>
                    <div class="col-sm-7">
                        <span class="block input-icon input-icon-right">
                            <input type="email" class="form-control" placeholder="Email" name="email" ng-model="createUser.email" required/>
                            <span ng-show="userForm.email.$error.email" class="help-inline">Email is not valid</span> 
                        </span>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-5 control-label no-padding-right" for="password">Password</label>
                    <div class="col-sm-7">
                        <span class="block input-icon input-icon-right">
                    <input type="text" class="form-control" name = "password" placeholder="Password" ng-model="createUser.password" required/>
                    <small class="errorMessage" data-ng-show="userForm.password.$dirty && userForm.password.$invalid"> Enter Password.</small>
                </span>
                    </div>
                </div>
            </form>
          </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="resetModal()">Cancel</button>
                <button type="button" class="btn btn-primary" ng-click="create(createUser)" ng-disabled="userForm.$invalid" data-dismiss="modal">Create</button>
            </div>
        </div>
      </div>
    </div> 

    <p class="text-center p-bg" ng-hide="getSuccess"><span class="glyphicon glyphicon-refresh glyphicon-refresh-animate"></span> Loading...</p>

    <table class="table" ng-show="getSuccess">
        <thead class="thead-inverse">
            <tr>
                <th>Name</th> 
                <th>Email</th> 
                <th>Control</th>
            </tr>
        </thead>        
        <tbody>
            <tr ng-repeat="user in users | filter:search:strict">
                <td>{{user.name}}</td>  
                <td>{{user.email}}</td>
                <td>
                    <button type="button" class="btn btn-sm btn-success" ng-click="accept(user)" ng-if="user.registered=='false'">Accept</button>
                    <button type="button" class="btn btn-sm btn-danger" ng-click="remove(user, $event)">Remove</button>
                </td>
            </tr>
        </tbody>
    </table>
</div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

